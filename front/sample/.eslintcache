[{"/app/src/index.js":"1","/app/src/reportWebVitals.js":"2","/app/src/App.js":"3","/app/src/util.js":"4","/app/src/Login.js":"5","/app/src/Connection.js":"6","/app/src/Header.js":"7","/app/src/Deconnection.js":"8","/app/src/Home.js":"9"},{"size":543,"mtime":1606247086531,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"12","hashOfConfig":"11"},{"size":1041,"mtime":1606577236240,"results":"13","hashOfConfig":"11"},{"size":727,"mtime":1606329063211,"results":"14","hashOfConfig":"11"},{"size":2802,"mtime":1606247629349,"results":"15","hashOfConfig":"11"},{"size":860,"mtime":1606249306880,"results":"16","hashOfConfig":"11"},{"size":1054,"mtime":1606329139939,"results":"17","hashOfConfig":"11"},{"size":320,"mtime":1606329028270,"results":"18","hashOfConfig":"11"},{"size":1667,"mtime":1606581078708,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"ubw9ml",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"22"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"22"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"42"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"22"},"/app/src/index.js",[],["46","47"],"/app/src/reportWebVitals.js",[],"/app/src/App.js",["48","49","50","51","52","53"],"import React, { useState, useEffect } from 'react';\nimport {HashRouter as Router,Switch,Route,Link,useLocation,useHistory} from \"react-router-dom\"\nimport {Container} from 'react-bootstrap'\nimport {Login} from './Login'\nimport {Home} from './Home'\nimport {getCookie} from './util'\nimport {Header} from './Header'\n\nfunction App() {\n  const[connected, setConnected] = useState(null)\n\n  useEffect(() => {\n    document.title = \"Projet Microservices\"\n }, []);\n\n  return (\n    <div className=\"App\">\n      <Router basename={'/'}>\n      <Route render={({ location, history }) => (\n            <React.Fragment>\n              {!getCookie(\"_id\") && <Route path=\"/\" exact component={props => <Login data={{location, history, setConnected}}/>} />}\n              {getCookie(\"_id\") && <>\n              <Header data={{setConnected}}/>\n                <Route path=\"/\" exact component={props => <Home data={{location, history}}/>} />\n              </>}\n            </React.Fragment>\n        )}\n        />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","/app/src/util.js",["54"],"import React from 'react'\r\n\r\nexport const setCookie = (cname, cvalue, exdays) => {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\r\n    var expires = \"expires=\"+ d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n  }\r\n\r\nexport const getCookie = (name) => {\r\n    let cookie = {};\r\n    document.cookie.split(';').forEach(function(el) {\r\n      let [k,v] = el.split('=');\r\n      cookie[k.trim()] = v;\r\n    })\r\n    return cookie[name];\r\n  }\r\n\r\nexport const deleteCookie = ( name, path ) => {\r\n    if( getCookie( name ) ) {\r\n      document.cookie = name + \"=\" +\r\n        ((path) ? \";path=\"+path:\"\")+\r\n        \";expires=Thu, 01 Jan 1970 00:00:01 GMT\";\r\n    }\r\n  }","/app/src/Login.js",["55","56","57","58"],"import React, { useState, useEffect } from 'react';\r\nimport {Table, Form, FormControl, Button, Spinner, Row, Col, Container, Alert} from 'react-bootstrap'\r\nimport {Connection} from './Connection'\r\n\r\nexport function Login(props) {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [pwd, setPwd] = useState(\"\")\r\n    const [success, setSuccess] = useState(null)\r\n    const [isLoading, setIsLoading] = useState(false)\r\n  \r\n    const handleEmail = (event) => {\r\n      setEmail(event.target.value)\r\n    }\r\n  \r\n    const handlePwd = (event) => {\r\n      setPwd(event.target.value)\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(success)\r\n     }, []);\r\n\r\n    return (\r\n        <div style={styleVcenter}> \r\n        <Container className=\"vertical-center\">\r\n            <Row className=\"h-100\" style={{marginLeft: \"6em\", marginRight: \"6em\"}}>\r\n                <Col className=\"my-auto\">\r\n                    <div className=\"text-center pb-5\">\r\n                        <h1 className=\"display-2\">Projet Microservices</h1>\r\n                    </div>\r\n                <Form>\r\n                    <Form.Group controlId=\"formBasicEmail\" className=\"pb-4 mb-4\">\r\n                        <Form.Control type=\"email\" placeholder=\"Email\" size=\"lg\" onKeyUp={(e) => handleEmail(e)}/>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group controlId=\"formBasicPassword\">\r\n                        <Form.Control type=\"password\" placeholder=\"Mot de passe\" size=\"lg\" onKeyUp={(e) => handlePwd(e)}/>\r\n                    </Form.Group>\r\n                    {success !== null && !success && <div className=\"text-center pt-3\"><Alert className=\"mb-0\" variant={success ? \"success\" : \"danger\"}>\r\n                    {\"L'authentification a échoué\"}\r\n                    </Alert></div>}\r\n                    <div className=\"text-center pt-4\">\r\n                        <Button className=\"mb-3\" variant=\"primary\" onClick={() => {Connection(email, pwd, setIsLoading, setSuccess, props.data.history, props.data.setConnected)}} disabled={email.trim() === \"\" || pwd.trim() === \"\"}>\r\n                            {isLoading && <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                                className=\"pr-2\"\r\n                            />}\r\n                            {!isLoading && \"Connection\"}\r\n                        </Button>\r\n                    </div>\r\n                </Form>\r\n                </Col>\r\n            </Row>\r\n        </Container>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nconst styleVcenter = {\r\n    minHeight: \"100%\",\r\n    minHeight: \"100vh\",\r\n    display: \"flex\",\r\n    alignItems: \"center\"\r\n  }","/app/src/Connection.js",[],"/app/src/Header.js",["59","60","61","62","63","64","65","66","67"],"import React, { useState } from 'react';\r\nimport {Container, DropdownButton, Dropdown, Col, Spinner, CardDeck, Alert, Navbar, Form, FormControl, Button, Nav} from 'react-bootstrap'\r\nimport {Deconnection} from './Deconnection'\r\nimport {getCookie} from './util';\r\nimport {useLocation, useHistory} from \"react-router-dom\";\r\n\r\nexport function Header(props) {\r\n  const location = useLocation()\r\n  const history = useHistory()\r\n\r\n    return (\r\n      <>\r\n      <Container fluid className=\"pr-0 pl-0\">\r\n      <Navbar bg=\"light\" variant=\"light\" style={{height: 64}}>\r\n        <Navbar.Brand onClick={() => history.push(\"/\")}>Projet Microservices</Navbar.Brand>\r\n        <Nav className=\"mr-auto\">\r\n        </Nav>\r\n        <DropdownButton variant=\"light\" id=\"dropdown-item-button\" title={getCookie(\"mail\")} className=\"person-circle\" alignRight>\r\n            <Dropdown.Item as=\"button\" onClick={() => Deconnection(props.data.setConnected, history)}>Déconection</Dropdown.Item>\r\n          </DropdownButton>\r\n      </Navbar>\r\n      </Container>\r\n      </>\r\n    );\r\n  }","/app/src/Deconnection.js",["68","69","70","71"],"import React, { useState } from 'react';\r\nimport {getCookie, deleteCookie, upperCaseFirst} from './util';\r\n\r\nconst deleteUser = () => {\r\n    deleteCookie(\"_id\", \"/\")\r\n    deleteCookie(\"mail\", \"/\")\r\n  }\r\n\r\nexport function Deconnection(setConnected, history) {\r\n  deleteUser()\r\n  setConnected(null)\r\n  history.push('/')\r\n}",["72","73"],"/app/src/Home.js",["74","75","76","77","78","79","80","81","82","83","84","85"],"import React, { useState, useEffect } from 'react';\r\nimport {HashRouter as Router,Switch,Route,Link,useLocation,useHistory} from \"react-router-dom\"\r\nimport {Container, DropdownButton, Card, Spinner, CardDeck, Alert, Navbar, Form, FormControl, Button, Nav} from 'react-bootstrap'\r\nimport axios from 'axios'\r\n\r\nexport const Home = (props) => {\r\n    const [catalogue, setCatalogue] = useState([])\r\n    const [isLoading, setIsLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:4001/catalogue\").then(res => {\r\n            setCatalogue(res.data)\r\n            setIsLoading(false)\r\n            console.log(res.data)\r\n        }).catch(err => {\r\n            console.log(err)\r\n            setIsLoading(false)\r\n        })\r\n\r\n     }, []);\r\n\r\n    return (\r\n        <Container style={{marginTop: \"3%\"}}>\r\n            {isLoading && <div className=\"text-center\"><Spinner as=\"span\" animation=\"border\" size=\"sm\" variant=\"primary\" role=\"status\" aria-hidden=\"true\" style={{width: \"5em\", height: \"5em\"}} /></div>}\r\n            <CardDeck >\r\n                {!isLoading && catalogue.map(c => <Card>\r\n                <Card.Img variant=\"top\" src=\"holder.js/100px160\" />\r\n                <Card.Body>\r\n                <Card.Title>{c.nom}</Card.Title>\r\n                <Card.Text>\r\n                    {c.description}\r\n                </Card.Text>\r\n                </Card.Body>\r\n                <Card.Footer>\r\n                    <div className=\"text-center\">\r\n                        <Button>Ajouter au panier</Button>\r\n                    </div>\r\n                </Card.Footer>\r\n            </Card>)}\r\n            </CardDeck>\r\n        </Container>\r\n    )\r\n}",{"ruleId":"86","replacedBy":"87"},{"ruleId":"88","replacedBy":"89"},{"ruleId":"90","severity":1,"message":"91","line":2,"column":30,"nodeType":"92","messageId":"93","endLine":2,"endColumn":36},{"ruleId":"90","severity":1,"message":"94","line":2,"column":43,"nodeType":"92","messageId":"93","endLine":2,"endColumn":47},{"ruleId":"90","severity":1,"message":"95","line":2,"column":48,"nodeType":"92","messageId":"93","endLine":2,"endColumn":59},{"ruleId":"90","severity":1,"message":"96","line":2,"column":60,"nodeType":"92","messageId":"93","endLine":2,"endColumn":70},{"ruleId":"90","severity":1,"message":"97","line":3,"column":9,"nodeType":"92","messageId":"93","endLine":3,"endColumn":18},{"ruleId":"90","severity":1,"message":"98","line":10,"column":9,"nodeType":"92","messageId":"93","endLine":10,"endColumn":18},{"ruleId":"90","severity":1,"message":"99","line":1,"column":8,"nodeType":"92","messageId":"93","endLine":1,"endColumn":13},{"ruleId":"90","severity":1,"message":"100","line":2,"column":9,"nodeType":"92","messageId":"93","endLine":2,"endColumn":14},{"ruleId":"90","severity":1,"message":"101","line":2,"column":22,"nodeType":"92","messageId":"93","endLine":2,"endColumn":33},{"ruleId":"102","severity":1,"message":"103","line":21,"column":9,"nodeType":"104","endLine":21,"endColumn":11,"suggestions":"105"},{"ruleId":"106","severity":1,"message":"107","line":66,"column":5,"nodeType":"108","messageId":"109","endLine":66,"endColumn":14},{"ruleId":"90","severity":1,"message":"110","line":1,"column":17,"nodeType":"92","messageId":"93","endLine":1,"endColumn":25},{"ruleId":"90","severity":1,"message":"111","line":2,"column":46,"nodeType":"92","messageId":"93","endLine":2,"endColumn":49},{"ruleId":"90","severity":1,"message":"112","line":2,"column":51,"nodeType":"92","messageId":"93","endLine":2,"endColumn":58},{"ruleId":"90","severity":1,"message":"113","line":2,"column":60,"nodeType":"92","messageId":"93","endLine":2,"endColumn":68},{"ruleId":"90","severity":1,"message":"114","line":2,"column":70,"nodeType":"92","messageId":"93","endLine":2,"endColumn":75},{"ruleId":"90","severity":1,"message":"115","line":2,"column":85,"nodeType":"92","messageId":"93","endLine":2,"endColumn":89},{"ruleId":"90","severity":1,"message":"101","line":2,"column":91,"nodeType":"92","messageId":"93","endLine":2,"endColumn":102},{"ruleId":"90","severity":1,"message":"116","line":2,"column":104,"nodeType":"92","messageId":"93","endLine":2,"endColumn":110},{"ruleId":"90","severity":1,"message":"117","line":8,"column":9,"nodeType":"92","messageId":"93","endLine":8,"endColumn":17},{"ruleId":"90","severity":1,"message":"99","line":1,"column":8,"nodeType":"92","messageId":"93","endLine":1,"endColumn":13},{"ruleId":"90","severity":1,"message":"110","line":1,"column":17,"nodeType":"92","messageId":"93","endLine":1,"endColumn":25},{"ruleId":"90","severity":1,"message":"118","line":2,"column":9,"nodeType":"92","messageId":"93","endLine":2,"endColumn":18},{"ruleId":"90","severity":1,"message":"119","line":2,"column":34,"nodeType":"92","messageId":"93","endLine":2,"endColumn":48},{"ruleId":"86","replacedBy":"120"},{"ruleId":"88","replacedBy":"121"},{"ruleId":"90","severity":1,"message":"122","line":2,"column":23,"nodeType":"92","messageId":"93","endLine":2,"endColumn":29},{"ruleId":"90","severity":1,"message":"91","line":2,"column":30,"nodeType":"92","messageId":"93","endLine":2,"endColumn":36},{"ruleId":"90","severity":1,"message":"123","line":2,"column":37,"nodeType":"92","messageId":"93","endLine":2,"endColumn":42},{"ruleId":"90","severity":1,"message":"94","line":2,"column":43,"nodeType":"92","messageId":"93","endLine":2,"endColumn":47},{"ruleId":"90","severity":1,"message":"95","line":2,"column":48,"nodeType":"92","messageId":"93","endLine":2,"endColumn":59},{"ruleId":"90","severity":1,"message":"96","line":2,"column":60,"nodeType":"92","messageId":"93","endLine":2,"endColumn":70},{"ruleId":"90","severity":1,"message":"124","line":3,"column":20,"nodeType":"92","messageId":"93","endLine":3,"endColumn":34},{"ruleId":"90","severity":1,"message":"114","line":3,"column":61,"nodeType":"92","messageId":"93","endLine":3,"endColumn":66},{"ruleId":"90","severity":1,"message":"125","line":3,"column":68,"nodeType":"92","messageId":"93","endLine":3,"endColumn":74},{"ruleId":"90","severity":1,"message":"115","line":3,"column":76,"nodeType":"92","messageId":"93","endLine":3,"endColumn":80},{"ruleId":"90","severity":1,"message":"101","line":3,"column":82,"nodeType":"92","messageId":"93","endLine":3,"endColumn":93},{"ruleId":"90","severity":1,"message":"126","line":3,"column":103,"nodeType":"92","messageId":"93","endLine":3,"endColumn":106},"no-native-reassign",["127"],"no-negated-in-lhs",["128"],"no-unused-vars","'Switch' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'useLocation' is defined but never used.","'useHistory' is defined but never used.","'Container' is defined but never used.","'connected' is assigned a value but never used.","'React' is defined but never used.","'Table' is defined but never used.","'FormControl' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'success'. Either include it or remove the dependency array.","ArrayExpression",["129"],"no-dupe-keys","Duplicate key 'minHeight'.","ObjectExpression","unexpected","'useState' is defined but never used.","'Col' is defined but never used.","'Spinner' is defined but never used.","'CardDeck' is defined but never used.","'Alert' is defined but never used.","'Form' is defined but never used.","'Button' is defined but never used.","'location' is assigned a value but never used.","'getCookie' is defined but never used.","'upperCaseFirst' is defined but never used.",["127"],["128"],"'Router' is defined but never used.","'Route' is defined but never used.","'DropdownButton' is defined but never used.","'Navbar' is defined but never used.","'Nav' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"130","fix":"131"},"Update the dependencies array to be: [success]",{"range":"132","text":"133"},[649,651],"[success]"]